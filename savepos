local Players = game:GetService("Players")

local player = Players.LocalPlayer

local playerGui = player:WaitForChild("PlayerGui")

local screenGui = Instance.new("ScreenGui")

screenGui.Name = "MultiSaveLoadGui"

screenGui.ResetOnSpawn = false

screenGui.Parent = playerGui

local container = Instance.new("Frame")

container.Name = "Container"

container.Size = UDim2.new(0, 240, 0, 320)

container.Position = UDim2.new(0, 100, 0, 100)

container.BackgroundColor3 = Color3.fromRGB(20, 20, 20)

container.BorderSizePixel = 4

container.BorderColor3 = Color3.fromRGB(200, 200, 200)

container.Active = true

container.Draggable = true

container.Parent = screenGui

local scrollFrame = Instance.new("ScrollingFrame")

scrollFrame.Name = "ScrollFrame"

scrollFrame.Size = UDim2.new(1, -8, 1, -8)

scrollFrame.Position = UDim2.new(0, 4, 0, 4)

scrollFrame.CanvasSize = UDim2.new(0, 0, 0, 0)

scrollFrame.AutomaticCanvasSize = Enum.AutomaticSize.Y

scrollFrame.ScrollBarThickness = 8

scrollFrame.BackgroundTransparency = 1

scrollFrame.Parent = container

local listLayout = Instance.new("UIListLayout")

listLayout.Parent = scrollFrame

listLayout.SortOrder = Enum.SortOrder.LayoutOrder

listLayout.Padding = UDim.new(0, 6)

local rows = {}

local function refreshLayoutOrders()

    for i, row in ipairs(rows) do

        row.LayoutOrder = i

    end

end

local function createRow(isRoot)

    local row = Instance.new("Frame")

    row.Name = "Row"

    row.Size = UDim2.new(1, 0, 0, 60)

    row.BackgroundColor3 = Color3.fromRGB(30, 30, 30)

    row.BorderSizePixel = 3

    row.BorderColor3 = Color3.fromRGB(180, 180, 180)

    row.LayoutOrder = #rows + 1

    row.Parent = scrollFrame

    row.Active = true

    row.Draggable = true

    local saveBtn = Instance.new("TextButton")

    saveBtn.Name = "SavePosButton"

    saveBtn.Size = UDim2.new(0, 80, 0, 36)

    saveBtn.Position = UDim2.new(0, 8, 0, 12)

    saveBtn.BackgroundColor3 = Color3.fromRGB(50, 50, 50)

    saveBtn.BorderSizePixel = 2

    saveBtn.BorderColor3 = Color3.fromRGB(100, 100, 100)

    saveBtn.TextColor3 = Color3.new(1, 1, 1)

    saveBtn.Font = Enum.Font.GothamSemibold

    saveBtn.TextSize = 18

    saveBtn.Text = "SavePos"

    saveBtn.Parent = row

    local loadBtn = Instance.new("TextButton")

    loadBtn.Name = "LoadPosButton"

    loadBtn.Size = UDim2.new(0, 80, 0, 36)

    loadBtn.Position = UDim2.new(1, -88, 0, 12)

    loadBtn.BackgroundColor3 = Color3.fromRGB(50, 50, 50)

    loadBtn.BorderSizePixel = 2

    loadBtn.BorderColor3 = Color3.fromRGB(100, 100, 100)

    loadBtn.TextColor3 = Color3.new(1, 1, 1)

    loadBtn.Font = Enum.Font.GothamSemibold

    loadBtn.TextSize = 18

    loadBtn.Text = "LoadPos"

    loadBtn.Parent = row

    local plusBtn = Instance.new("TextButton")

    plusBtn.Name = "PlusButton"

    plusBtn.Size = UDim2.new(0, 20, 0, 20)

    plusBtn.Position = UDim2.new(0.5, -10, 1, -24)

    plusBtn.BackgroundColor3 = Color3.fromRGB(80, 80, 80)

    plusBtn.BorderSizePixel = 2

    plusBtn.BorderColor3 = Color3.fromRGB(120, 120, 120)

    plusBtn.TextColor3 = Color3.new(1, 1, 1)

    plusBtn.Font = Enum.Font.GothamBold

    plusBtn.TextSize = 16

    plusBtn.Text = "+"

    plusBtn.Parent = row

    local deleteBtn

    if not isRoot then

        deleteBtn = Instance.new("TextButton")

        deleteBtn.Name = "DeleteButton"

        deleteBtn.Size = UDim2.new(0, 20, 0, 20)

        deleteBtn.Position = UDim2.new(1, -24, 0, 4)

        deleteBtn.BackgroundColor3 = Color3.fromRGB(140, 30, 30)

        deleteBtn.BorderSizePixel = 2

        deleteBtn.BorderColor3 = Color3.fromRGB(180, 60, 60)

        deleteBtn.TextColor3 = Color3.new(1, 1, 1)

        deleteBtn.Font = Enum.Font.GothamBold

        deleteBtn.TextSize = 16

        deleteBtn.Text = "Ã—"

        deleteBtn.Parent = row

    end

    local savedPos

    saveBtn.MouseButton1Click:Connect(function()

        local char = player.Character or player.CharacterAdded:Wait()

        local hrp = char:WaitForChild("HumanoidRootPart")

        savedPos = hrp.Position

        saveBtn.Text = "Saved!"

        task.delay(0.5, function() saveBtn.Text = "SavePos" end)

    end)

    loadBtn.MouseButton1Click:Connect(function()

        if not savedPos then return end

        local char = player.Character or player.CharacterAdded:Wait()

        local hrp = char:WaitForChild("HumanoidRootPart")

        local ori = hrp.CFrame - hrp.CFrame.Position

        hrp.CFrame = CFrame.new(savedPos) * ori

    end)

    plusBtn.MouseButton1Click:Connect(function()

        local newRow = createRow(false)

        table.insert(rows, newRow)

        refreshLayoutOrders()

        scrollFrame.CanvasPosition = Vector2.new(0, listLayout.AbsoluteContentSize.Y)

    end)

    if deleteBtn then

        deleteBtn.MouseButton1Click:Connect(function()

            for i, r in ipairs(rows) do

                if r == row then

                    table.remove(rows, i)

                    break

                end

            end

            row:Destroy()

            refreshLayoutOrders()

        end)

    end

    table.insert(rows, row)

    return row

end

createRow(true)
